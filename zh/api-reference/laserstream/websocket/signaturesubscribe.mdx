---
title: signatureSubscribe
description: 订阅以在具有给定签名的交易达到指定的承诺级别时接收通知。
---

这是一个单一通知的订阅。一旦通知 `signatureNotification` 被 RPC 发送，服务器会自动取消订阅。

## 端点

主网和开发网都可以通过以下 URL 使用 Websockets：

- **主网** `wss://laserstream-mainnet.helius-rpc.com/?api-key=<API_KEY>`
- **开发网** `wss://laserstream-devnet.helius-rpc.com/?api-key=<API_KEY>`

<Note>Websockets 有一个 10 分钟的不活动计时器；强烈建议实施健康检查并每分钟发送 ping 以保持 websocket 连接活跃。</Note>

## 授权

<ParamField query="api-key" type="string" required>
  您的 Helius API 密钥。您可以在[仪表板](https://dashboard.helius.dev/api-keys)中免费获取一个。
</ParamField>

## 请求体

<ParamField body="params" type="array" required>
    <Expandable title="properties" defaultOpen>
        <ParamField body="signature" type="string" required>
            交易签名，作为 base-58 编码的字符串。
            
            交易签名必须是交易的第一个签名（有关更多详细信息，请参阅交易 ID）。
        </ParamField>

        <ParamField body="config" type="object">
            包含以下字段的配置对象：
            
            <ParamField body="commitment" type="string">
                订阅的承诺级别。可以是 `finalized`、`confirmed` 或 `processed`。
            </ParamField>
            
            <ParamField body="enableReceivedNotification" type="boolean">
                是否在接收到交易签名时发送通知。
            </ParamField>
        </ParamField>
    </Expandable>
</ParamField>

## 响应

<ResponseField name="result" type="integer">
  订阅 ID（取消订阅时需要）
</ResponseField>

## 通知格式

通知将是一个 RpcResponse JSON 对象，其值包含一个对象，其中包括：

- `slot: <u64>` - 对应的槽位。
- `value: <object|string>` - 一个 RpcSignatureResult 的通知值，结果为：
  - 当 `enableReceivedNotification` 是 `true` 并且签名被接收时：字面字符串 `"receivedSignature"`，或
  - 当签名被处理时：`err: <object|null>`：
    - `null` 如果交易在指定的承诺级别成功处理，或
    - 如果交易失败，则为 TransactionError

<RequestExample>

```json Request
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "signatureSubscribe",
  "params": [
    "2EBVM6cB8vAAD93Ktr6Vd8p67XPbQzCJX47MpReuiCXJAtcjaxpvWpcg9Ege1Nr5Tk3a2GFrByT7WPBjdsTycY9b",
    {
      "commitment": "finalized",
      "enableReceivedNotification": false
    }
  ]
}
```

</RequestExample>

<ResponseExample>

```json Response
{
  "jsonrpc": "2.0",
  "result": 0,
  "id": 1
}
```

```json Notification (Processed Transaction)
{
  "jsonrpc": "2.0",
  "method": "signatureNotification",
  "params": {
    "result": {
      "context": {
        "slot": 5207624
      },
      "value": {
        "err": null
      }
    },
    "subscription": 24006
  }
}
```

```json Notification (Received Transaction)
{
  "jsonrpc": "2.0",
  "method": "signatureNotification",
  "params": {
    "result": {
      "context": {
        "slot": 5207624
      },
      "value": "receivedSignature"
    },
    "subscription": 24006
  }
}
```

</ResponseExample>