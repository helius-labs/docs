---
title: slotsUpdatesSubscribe
og:title: slotsUpdatesSubscribe Solana RPC 方法
sidebarTitle: slotsUpdatesSubscribe
description: 订阅以接收来自验证器的每个 slot 上各种更新的通知。
og:description: 获取免费的 RPC 并探索 slotsUpdatesSubscribe RPC 方法。包括请求参数、响应示例、代码片段，以及
  Solana 主网和 Devnet 的浏览器内测试。
---

<Note>
此订阅不稳定。此订阅的格式可能会在未来发生变化，并且可能并不总是受支持。
</Note>

## 端点

主网和 devnet 上可用的 Websockets URL 如下：

- **Mainnet** `wss://mainnet.helius-rpc.com/?api-key=<API_KEY>`
- **Devnet** `wss://devnet.helius-rpc.com/?api-key=<API_KEY>`

<Note>Websockets 有一个 10 分钟的不活动计时器；强烈建议实施健康检查并每分钟发送 ping 以保持 websocket 连接活跃。</Note>

## 授权

<ParamField query="api-key" type="string" required>
  您的 Helius API 密钥。您可以在[仪表板](https://dashboard.helius.dev/api-keys)中免费获取一个。
</ParamField>

## 正文

<ParamField body="params" type="array">
    <Expandable title="properties" defaultOpen>
        <ParamField body="none" type="null">
            不需要参数。
        </ParamField>
    </Expandable>
</ParamField>

## 响应

<ResponseField name="result" type="integer">
  订阅 ID（取消订阅时需要）
</ResponseField>

## 通知格式

通知将是一个包含以下字段的对象：

- `err: <string|undefined>` - 错误信息。仅当更新类型为 "dead" 时存在。
- `parent: <u64|undefined>` - 父插槽。仅当更新类型为 "createdBank" 时存在。
- `slot: <u64>` - 新更新的插槽
- `stats: <object|undefined>` - 仅当更新类型为 "frozen" 时存在。一个包含以下字段的对象：
  - `maxTransactionsPerEntry: <u64>`
  - `numFailedTransactions: <u64>`
  - `numSuccessfulTransactions: <u64>`
  - `numTransactionEntries: <u64>`
- `timestamp: <i64>` - 更新的 Unix 时间戳（毫秒）
- `type: <string>` - 更新类型之一：
  - "firstShredReceived"
  - "completed"
  - "createdBank"
  - "frozen"
  - "dead"
  - "optimisticConfirmation"
  - "root"

<RequestExample>

```json Request
{
  "jsonrpc": "2.0",
  "id": 1,
  "method": "slotsUpdatesSubscribe"
}
```

</RequestExample>

<ResponseExample>

```json Response
{
  "jsonrpc": "2.0",
  "result": 0,
  "id": 1
}
```

```json Notification
{
  "jsonrpc": "2.0",
  "method": "slotsUpdatesNotification",
  "params": {
    "result": {
      "parent": 75,
      "slot": 76,
      "timestamp": 1625081266243,
      "type": "optimisticConfirmation"
    },
    "subscription": 0
  }
}
```

</ResponseExample>