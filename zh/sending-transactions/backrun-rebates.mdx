---
title: 从您的交易中赚取 SOL 回扣
sidebarTitle: 交易回扣
description: 通过交易后回跑自动赚取 SOL 回扣，无需额外承担有毒 MEV 风险。
---

<Note>
**这是一个可选功能。** Helius 在没有您的明确许可的情况下绝不会参与回退返利。您必须通过在交易请求中添加 `rebate-address` 参数来选择加入。
</Note>

## 什么是回跑回扣？

Helius 回跑回扣让您赚取您的交易所创造的 MEV（最大可提取价值）的一部分。当您的交易产生有利可图的套利机会时，搜索者会竞争回跑您的交易——而您将获得他们利润的一部分，以 SOL 支付。

<CardGroup cols={2}>
  <Card title="无额外的 MEV 风险" icon="shield-check">
    您的交易在捆绑中首先执行，MEV 在执行后提取
  </Card>
  <Card title="一个参数" icon="code">
    将 `rebate-address` 添加到您的 RPC URL - 无需代码更改或合约修改
  </Card>
</CardGroup>

## 工作原理

回扣系统在常规 RPC 流程旁边运行一个私人订单流拍卖。对于每笔交易，Helius 将未签名的副本转发到拍卖，同时通过正常的 RPC 路径提交已签名的交易。由于两条路径是并行进行的，因此没有额外的延迟，拍卖也从不排他。

<Steps titleSize="h3">
  <Step title="选择加入">
    将 `rebate-address=<YOUR_SOL_ADDRESS>` 查询参数添加到主网上的任何 `sendTransaction` 调用中。此功能完全是可选的 - 只有在您明确选择加入时，Helius 才会参与。
  </Step>
  <Step title="拍卖过程">
    当您的交易通过标准 RPC 路径处理时，Helius 还会将未签名的副本转发到我们的私人订单流拍卖中，经过预批准的、通过 KYC 的搜索者会竞标回退您的交易
  </Step>
  <Step title="捆绑创建">
    最高出价者获胜并创建一个捆绑：**[您的交易，搜索者交易]**。您的交易总是首先执行
  </Step>
  <Step title="自动支付">
    如果捆绑上链，Helius 会自动将商定的返利直接支付到您指定的 SOL 地址
  </Step>
</Steps>

### 理解 Backruns

Backrunning 是一种有益的套利形式，有助于保持不同交易所之间的价格一致。与恶意的 MEV 攻击不同，backrunning 通过纠正大额交易造成的价格不平衡来改善网络。

**示例**：当你在 Raydium 上购买 BONK 时，该交易所的价格会上涨，但在 Orca 上保持不变。此时，一个搜索者会在 Orca 上购买 BONK（价格较低）并在 Raydium 上出售（价格较高），从而捕获差价作为利润。通过 Helius 回扣，你可以从你的交易所创造的利润中获益。

<Tip>
**捆绑执行**：你的交易总是在捆绑中优先于任何搜索者交易执行。
</Tip>

<Card title="我能赚多少？" icon="question">
  **你赚取你的交易所创造的 MEV 的 50%**
  
  - 价格影响较大的大额交易会产生更多的 MEV 和更高的回扣
  - 支付是即时的 - 你在执行的同一个区块中收到 SOL
</Card>

<Info>
**MEV 保护**：你的交易在捆绑中优先执行，MEV 在执行后提取，让你从你创造的套利机会中获利。
</Info>

## 快速入门指南

准备好从你的交易中赚取回扣了吗？使用现有的交易代码在 5 分钟内开始。

<Tabs>
  <Tab title="JavaScript/TypeScript">

    ```javascript
    // Create and serialize your transaction first
    const serializedTransaction = transaction.serialize().toString('base64');
    
    // Send transaction with rebate-address parameter
    const response = await fetch(`https://mainnet.helius-rpc.com/?api-key=${API_KEY}&rebate-address=${REBATE_ADDRESS}`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        jsonrpc: '2.0',
        id: 1,
        method: 'sendTransaction',
        params: [
          serializedTransaction,
          {
            skipPreflight: true,
            preflightCommitment: 'processed'
          }
        ]
      })
    });
    
    const result = await response.json();
    console.log('Transaction sent:', result.result);
    console.log('Rebates will be paid to:', REBATE_ADDRESS);
    ```

  </Tab>
  <Tab title="Python">

    ```python
    import requests
    import json
    
    # Serialize your transaction first
    serialized_transaction = transaction.serialize().decode('utf-8')
    
    # Send transaction with rebate-address parameter
    url = f"https://mainnet.helius-rpc.com/?api-key={API_KEY}&rebate-address={REBATE_ADDRESS}"
    
    payload = {
        "jsonrpc": "2.0",
        "id": 1,
        "method": "sendTransaction",
        "params": [
            serialized_transaction,
            {
                "skipPreflight": true,
                "preflightCommitment": "processed"
            }
        ]
    }
    
    response = requests.post(url, json=payload)
    result = response.json()
    print(f"Transaction sent: {result['result']}")
    print(f"Rebates will be paid to: {REBATE_ADDRESS}")
    ```

  </Tab>
  <Tab title="Rust">

    ```rust
    use reqwest::Client;
    use serde_json::json;
    
    // Serialize your transaction first
    let serialized_transaction = bs58::encode(&transaction.serialize()).into_string();
    
    // Send transaction with rebate-address parameter
    let url = format!(
        "https://mainnet.helius-rpc.com/?api-key={}&rebate-address={}", 
        api_key, rebate_address
    );
    
    let client = Client::new();
    let payload = json!({
        "jsonrpc": "2.0",
        "id": 1,
        "method": "sendTransaction",
        "params": [
            serialized_transaction,
            {
                "skipPreflight": true,
                "preflightCommitment": "processed"
            }
        ]
    });
    
    let response = client.post(&url)
        .json(&payload)
        .send()
        .await?;
    
    let result: serde_json::Value = response.json().await?;
    println!("Transaction sent: {}", result["result"]);
    println!("Rebates will be paid to: {}", rebate_address);
    ```

  </Tab>
  <Tab title="cURL">

    ```bash
    # Send transaction with rebate-address parameter
    curl -X POST \
      "https://mainnet.helius-rpc.com/?api-key=${API_KEY}&rebate-address=${REBATE_ADDRESS}" \
      -H "Content-Type: application/json" \
      -d '{
        "jsonrpc": "2.0",
        "id": 1,
        "method": "sendTransaction",
        "params": [
          "YOUR_SERIALIZED_TRANSACTION_BASE64",
          {
            "skipPreflight": false,
            "preflightCommitment": "processed"
          }
        ]
      }'
    ```

  </Tab>
</Tabs>

<Note>
**重要**：只有在 **mainnet** 上的单笔交易请求才有资格获得回扣。批量 RPC 调用和 devnet 交易会被自动跳过。
</Note>

## Helius 如何保护你

与其他可能从事恶意 MEV 的验证者不同，你的交易仅与经过审查的搜索者在私人拍卖中共享。在执行之前，其他任何方都无法查看或修改你的交易。Helius 只允许从事交易后 backruns 的搜索者。

<CardGroup cols={2}>
  <Card title="仅限私人拍卖" icon="shield-check">
    交易仅与**预先批准的、通过KYC的搜索者**共享
  </Card>
  <Card title="仅限交易后" icon="user-check">
    Helius仅允许**交易后回溯** - 不允许抢先交易
  </Card>
  <Card title="无额外MEV风险" icon="shield">
    您的交易在仅与经过审查的搜索者的捆绑中首先执行
  </Card>
  <Card title="完全可验证" icon="magnifying-glass">
    所有捆绑活动在**链上**可见，确保完全透明
  </Card>
</CardGroup>

## 常见问题

<AccordionGroup>
  <Accordion title="什么是MEV？">
    MEV是最大可提取价值。它是验证者通过在区块中重新排序交易可以获得的利润。
  </Accordion>
  
  <Accordion title="捆绑是如何工作的？">
    您的交易进入一个私人拍卖，与预先批准的、通过KYC的搜索者进行，他们只能参与交易后回溯。获胜搜索者的交易与您的交易捆绑在一起 - 您的交易首先执行，然后是他们的。如果捆绑成功，您将在同一区块中自动收到您的SOL回扣。
  </Accordion>
  
  <Accordion title="我能赚多少？">
    您赚取您的交易产生的MEV的50%。Helius保留50%用于提供基础设施。
  </Accordion>
  
  <Accordion title="我什么时候会得到付款？">
    回扣在与您的交易同一区块中自动以SOL支付。
  </Accordion>
  
  <Accordion title="这安全吗？">
    是的。您的交易在与预先批准的搜索者的捆绑中首先执行，他们只能进行交易后回溯。
  </Accordion>
</AccordionGroup>

有问题或需要帮助入门？请联系我们的支持团队：

<CardGroup cols={2}>
  <Card
    title="开发者社区"
    icon="discord"
    href="https://discord.com/invite/6GXdee3gBj"
  >
    加入数千名在Solana上构建的开发者。分享知识，
    获得帮助，并与同行联系。
  </Card>
  <Card
    title="直接支持"
    icon="headset"
    href="https://dashboard.helius.dev/support"
  >
   直接从Helius团队获得帮助。适用于开发者计划
   订阅者及以上。
  </Card>
</CardGroup>
