---
title: é¢„å¤„ç†äº¤æ˜“è®¢é˜…ï¼ˆæµ‹è¯•ç‰ˆï¼‰
sidebarTitle: é¢„å¤„ç†äº¤æ˜“ï¼ˆæµ‹è¯•ç‰ˆï¼‰
description: åœ¨äº¤æ˜“ä»ç¢ç‰‡ä¸­è§£ç æ—¶è®¢é˜…ï¼Œä»¥å®ç°è¶…ä½å»¶è¿Ÿç›‘æ§ï¼Œæ— éœ€äº¤æ˜“å…ƒæ•°æ®ã€‚
---

<Warning>
**æµ‹è¯•ç‰ˆåŠŸèƒ½ - éœ€è¦è¯·æ±‚è®¿é—®**

é¢„å¤„ç†äº¤æ˜“è®¢é˜…ç›®å‰å¤„äºæµ‹è¯•é˜¶æ®µã€‚è¦è¯·æ±‚è®¿é—®ï¼Œè¯·é€šè¿‡[Telegram](https://t.me/helius_help)æˆ–[Discord](https://discord.gg/EqanqfQU)è”ç³»Heliuså›¢é˜Ÿã€‚
</Warning>

é¢„å¤„ç†äº¤æ˜“æ˜¯ä»Solanaæ¥æ”¶äº¤æ˜“æ•°æ®çš„æœ€å¿«æ–¹å¼ä¹‹ä¸€ã€‚LaserStreamç›´æ¥ä»åˆ°è¾¾éªŒè¯å™¨çš„ç¢ç‰‡ä¸­è§£ç äº¤æ˜“ï¼Œè€Œä¸æ˜¯ç­‰å¾…å®Œæ•´çš„äº¤æ˜“å¤„ç†ï¼Œä½¿æ‚¨æ¯”æ ‡å‡†è®¢é˜…æå‰å‡ æ¯«ç§’è·å–äº¤æ˜“æ•°æ®ã€‚

æœ¬æŒ‡å—è§£é‡Šäº†ä½•æ—¶ä½¿ç”¨é¢„å¤„ç†äº¤æ˜“ã€å¯ç”¨çš„æ•°æ®ä»¥åŠå¦‚ä½•åœ¨æ‰€æœ‰LaserStream SDKä¸­å®ç°å®ƒä»¬ã€‚

---

## ä»€ä¹ˆæ˜¯é¢„å¤„ç†äº¤æ˜“ï¼Ÿ

åœ¨Solanaçš„æ¶æ„ä¸­ï¼Œäº¤æ˜“åœ¨å®Œå…¨å¤„ç†ä¹‹å‰ä¼šç»è¿‡å‡ ä¸ªé˜¶æ®µï¼š

1. **ç¢ç‰‡æ¥æ”¶** â†’ éªŒè¯å™¨æ¥æ”¶äº¤æ˜“ç¢ç‰‡ï¼ˆæ•°æ®ç‰‡æ®µï¼‰
2. **ç¢ç‰‡è§£ç ** â†’ ç¢ç‰‡è¢«è§£ç ä¸ºåŸå§‹äº¤æ˜“ â† **é¢„å¤„ç†äº¤æ˜“åœ¨æ­¤å¯ç”¨**
3. **äº¤æ˜“æ‰§è¡Œ** â†’ äº¤æ˜“ç”±è¿è¡Œæ—¶æ‰§è¡Œ
4. **å…ƒæ•°æ®ç”Ÿæˆ** â†’ è®¡ç®—å‰/åä½™é¢ã€æ—¥å¿—å’Œé”™è¯¯ä¿¡æ¯
5. **æ‰¿è¯º** â†’ äº¤æ˜“è¾¾åˆ°å·²å¤„ç†/å·²ç¡®è®¤/å·²å®ŒæˆçŠ¶æ€

æ ‡å‡†äº¤æ˜“è®¢é˜…åœ¨ç¬¬5é˜¶æ®µæä¾›æ•°æ® - å®Œæ•´æ‰§è¡Œå’Œå…ƒæ•°æ®ç”Ÿæˆä¹‹åã€‚é¢„å¤„ç†è®¢é˜…åœ¨ç¬¬2é˜¶æ®µæä¾› - ç¢ç‰‡è§£ç åç«‹å³æä¾›ï¼Œåœ¨æ‰§è¡Œå®Œæˆä¹‹å‰ã€‚

**æƒè¡¡ï¼š** æ‚¨å¯ä»¥æå‰å‡ æ¯«ç§’æ¥æ”¶äº¤æ˜“æ•°æ®ï¼Œä½†æ²¡æœ‰æ‰§è¡Œå…ƒæ•°æ®ï¼Œå¦‚ä½™é¢å˜åŒ–ã€æ—¥å¿—æˆ–é”™è¯¯ä¿¡æ¯ã€‚

---

## å°½åŠ›è€Œä¸ºçš„äº¤ä»˜ä¿è¯

<Info>
**é‡è¦ï¼š** é¢„å¤„ç†äº¤æ˜“çš„äº¤ä»˜æ˜¯å°½åŠ›è€Œä¸ºçš„ï¼Œä¸æ˜¯ä¿è¯çš„ã€‚æˆ‘ä»¬çš„ç›®æ ‡æ˜¯99.99%çš„äº¤ä»˜ç‡ï¼Œä½†åœ¨ä»¥ä¸‹æƒ…å†µä¸‹å¯èƒ½ä¼šä¸¢å¤±ä¸€äº›äº¤æ˜“ï¼š

- åŸºç¡€è®¾æ–½æ›´æ–°å’Œé‡æ–°éƒ¨ç½²
- ç½‘ç»œé—®é¢˜æˆ–éªŒè¯å™¨è¿æ¥é—®é¢˜
- åœ¨ç¢ç‰‡è§£ç æˆ–å¤„ç†ä¸­çš„è¾¹ç¼˜æƒ…å†µ

å¯¹äºéœ€è¦ä¿è¯äº¤ä»˜çš„å…³é”®åº”ç”¨ç¨‹åºï¼Œè¯·æ”¹ç”¨æ ‡å‡†çš„[äº¤æ˜“è®¢é˜…](/zh/laserstream/guides/decoding-transaction-data)ã€‚
</Info>

---

## æœ‰å“ªäº›æ•°æ®å¯ç”¨ï¼Ÿ

é¢„å¤„ç†äº¤æ˜“åŒ…æ‹¬å®Œæ•´çš„äº¤æ˜“æ¶ˆæ¯ï¼Œä½†ç¼ºå°‘æ‰§è¡Œå…ƒæ•°æ®ï¼š

### å¯ç”¨æ•°æ®

- âœ… **äº¤æ˜“ç­¾å** - å”¯ä¸€çš„äº¤æ˜“æ ‡è¯†ç¬¦
- âœ… **è´¦æˆ·å¯†é’¥** - äº¤æ˜“å¼•ç”¨çš„æ‰€æœ‰è´¦æˆ·
- âœ… **æŒ‡ä»¤** - å®Œæ•´çš„æŒ‡ä»¤æ•°æ®å’Œç¨‹åºè°ƒç”¨
- âœ… **æœ€è¿‘çš„åŒºå—å“ˆå¸Œ** - äº¤æ˜“è¿‡æœŸå‚è€ƒ
- âœ… **ç­¾å** - æ‰€æœ‰äº¤æ˜“ç­¾å
- âœ… **æ˜¯å¦ä¸ºæŠ•ç¥¨äº¤æ˜“** - æ˜¯å¦ä¸ºæŠ•ç¥¨äº¤æ˜“
- âœ… **æ§½å·** - åŒ…å«æ­¤äº¤æ˜“çš„æ§½

### ç¼ºå¤±æ•°æ®

- âŒ **äº¤æ˜“å…ƒæ•°æ®** - å‰/åä½™é¢ã€ç§Ÿé‡‘ã€äº¤æ˜“çŠ¶æ€
- âŒ **äº¤æ˜“é”™è¯¯** - æˆ‘ä»¬æ— æ³•ç¡®å®šäº¤æ˜“æ˜¯å¦å¤±è´¥
- âŒ **å†…éƒ¨æŒ‡ä»¤** - ä¸åŒ…æ‹¬è·¨ç¨‹åºè°ƒç”¨ï¼ˆCPIï¼‰
- âŒ **æ—¥å¿—æ¶ˆæ¯** - ç¨‹åºåœ¨æ‰§è¡ŒæœŸé—´ç”Ÿæˆçš„æ—¥å¿—
- âŒ **æ¶ˆè€—çš„è®¡ç®—å•å…ƒ** - æ‰§è¡ŒæŒ‡æ ‡ä¸å¯ç”¨
- âŒ **ä»£å¸ä½™é¢å˜åŒ–** - ä»£å¸å…ƒæ•°æ®éœ€è¦æ‰§è¡Œ

å¯ä»¥å°†é¢„å¤„ç†äº¤æ˜“è§†ä¸ºæ”¶åˆ°â€œææ¡ˆâ€è€Œæ²¡æœ‰â€œç»“æœâ€ã€‚æ‚¨å¯ä»¥çœ‹åˆ°ç”¨æˆ·å°è¯•åšä»€ä¹ˆï¼Œä½†çœ‹ä¸åˆ°å®é™…å‘ç”Ÿäº†ä»€ä¹ˆã€‚

---

## SDKæ”¯æŒå’Œç‰ˆæœ¬è¦æ±‚

æ‰€æœ‰LaserStream SDKéƒ½æ”¯æŒé¢„å¤„ç†äº¤æ˜“è®¢é˜…ï¼š

<CardGroup cols={3}>
  <Card title="JavaScript/TypeScript" icon="js" href="https://github.com/helius-labs/laserstream-sdk/tree/main/javascript">
    ç‰ˆæœ¬ **0.2.8** æˆ–æ›´é«˜
  </Card>
  <Card title="Rust" icon="rust" href="https://github.com/helius-labs/laserstream-sdk/tree/main/rust">
    ç‰ˆæœ¬ **0.1.5** æˆ–æ›´é«˜
  </Card>
  <Card title="Go" icon="golang" href="https://github.com/helius-labs/laserstream-sdk/tree/main/go">
    ç‰ˆæœ¬ **0.1.0** æˆ–æ›´é«˜
  </Card>
</CardGroup>

---

## å®ç°ç¤ºä¾‹

### JavaScript/TypeScript

JavaScript SDK æä¾›äº†ä¸€ä¸ªä¸“ç”¨çš„`subscribePreprocessed`å‡½æ•°ï¼Œå…·æœ‰è‡ªåŠ¨é‡è¿åŠŸèƒ½ï¼š

```typescript [expandable]
import {
  subscribePreprocessed,
  CommitmentLevel,
  LaserstreamConfig,
  SubscribePreprocessedRequest,
  SubscribePreprocessedUpdate
} from 'helius-laserstream';
import bs58 from 'bs58';

async function streamPreprocessedTransactions() {
  const config: LaserstreamConfig = {
    apiKey: 'YOUR_API_KEY',
    endpoint: 'https://laserstream-mainnet-ewr.helius-rpc.com',
  };

  const request: SubscribePreprocessedRequest = {
    transactions: {
      "jupiter-swaps": {
        vote: false,
        accountInclude: ['JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4']
      }
    }
  };

  const stream = await subscribePreprocessed(
    config,
    request,
    async (update: SubscribePreprocessedUpdate) => {
      if (update.transaction) {
        const tx = update.transaction;
        const signature = bs58.encode(tx.transaction.signature);

        console.log('âš¡ Preprocessed transaction received:');
        console.log(`  Signature: ${signature}`);
        console.log(`  Slot: ${tx.slot}`);
        console.log(`  Is Vote: ${tx.transaction.isVote}`);
        console.log(`  Filters: ${update.filters.join(', ')}`);
        console.log('---');
      }
    },
    async (error) => {
      console.error('Stream error:', error);
    }
  );

  console.log(`âœ… Preprocessed stream started (id: ${stream.id})`);

  // Graceful shutdown
  process.on('SIGINT', () => {
    console.log('\nğŸ›‘ Shutting down stream...');
    stream.cancel();
    process.exit(0);
  });
}

streamPreprocessedTransactions().catch(console.error);
```

**å®Œæ•´ç¤ºä¾‹ï¼š**[preprocessed-transaction-sub.ts](https://github.com/helius-labs/laserstream-sdk/blob/main/javascript/examples/preprocessed-transaction-sub.ts)

### Rust

Rust SDK æä¾›äº†æœ¬åœ°æ€§èƒ½ï¼š

```rust [expandable]
use futures::StreamExt;
use helius_laserstream::{
    grpc::{SubscribePreprocessedRequest, SubscribePreprocessedRequestFilterTransactions},
    subscribe_preprocessed, LaserstreamConfig,
};

#[tokio::main]
async fn main() -> Result<(), Box<dyn std::error::Error>> {
    let config = LaserstreamConfig {
        endpoint: "https://laserstream-mainnet-ewr.helius-rpc.com".to_string(),
        api_key: "YOUR_API_KEY".to_string(),
        ..Default::default()
    };

    let mut request = SubscribePreprocessedRequest::default();
    request.transactions.insert(
        "jupiter-swaps".to_string(),
        SubscribePreprocessedRequestFilterTransactions {
            vote: Some(false),
            account_include: vec![
                "JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4".to_string()
            ],
            ..Default::default()
        },
    );

    let (stream, _handle) = subscribe_preprocessed(config, request);
    tokio::pin!(stream);

    println!("âœ… Preprocessed stream started");

    while let Some(result) = stream.next().await {
        match result {
            Ok(update) => {
                if let Some(tx) = update.transaction {
                    println!("âš¡ Preprocessed transaction:");
                    println!("  Slot: {}", tx.slot);
                    println!("  Is Vote: {}", tx.transaction.is_vote);
                    println!("---");
                }
            }
            Err(e) => {
                eprintln!("Stream error: {:?}", e);
                break;
            }
        }
    }

    Ok(())
}
```

**å®Œæ•´ç¤ºä¾‹ï¼š**[preprocessed_transaction_sub.rs](https://github.com/helius-labs/laserstream-sdk/blob/main/rust/examples/preprocessed_transaction_sub.rs)

### Go

Go SDK æä¾›äº†æƒ¯ç”¨çš„ Go æ¥å£ï¼š

```go [expandable]
package main

import (
    "log"
    "os"
    "os/signal"
    "syscall"

    laserstream "github.com/helius-labs/laserstream-sdk/go"
    pb "github.com/helius-labs/laserstream-sdk/go/proto"
)

func main() {
    log.SetFlags(0)

    clientConfig := laserstream.LaserstreamConfig{
        Endpoint: "https://laserstream-mainnet-ewr.helius-rpc.com",
        APIKey:   "YOUR_API_KEY",
    }

    voteFilter := false
    subscriptionRequest := &pb.SubscribePreprocessedRequest{
        Transactions: map[string]*pb.SubscribePreprocessedRequestFilterTransactions{
            "jupiter-swaps": {
                Vote: &voteFilter,
                AccountInclude: []string{
                    "JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4",
                },
            },
        },
    }

    client := laserstream.NewPreprocessedClient(clientConfig)

    dataCallback := func(data *pb.SubscribePreprocessedUpdate) {
        if data.Transaction != nil {
            log.Println("âš¡ Preprocessed transaction:")
            log.Printf("  Slot: %d\n", data.Transaction.Slot)
            log.Printf("  Is Vote: %t\n", data.Transaction.Transaction.IsVote)
            log.Println("---")
        }
    }

    errorCallback := func(err error) {
        log.Printf("Error: %v", err)
    }

    err := client.Subscribe(subscriptionRequest, dataCallback, errorCallback)
    if err != nil {
        log.Fatalf("Failed to subscribe: %v", err)
    }

    log.Println("âœ… Preprocessed stream started")
    log.Println("Press Ctrl+C to exit")

    sigChan := make(chan os.Signal, 1)
    signal.Notify(sigChan, syscall.SIGINT, syscall.SIGTERM)
    <-sigChan

    log.Println("\nShutting down...")
    client.Close()
}
```

**å®Œæ•´ç¤ºä¾‹ï¼š**[preprocessed-transaction-sub.go](https://github.com/helius-labs/laserstream-sdk/blob/main/go/examples/preprocessed-transaction-sub.go)

---

## è®¢é˜…ç»“æ„å’Œè¿‡æ»¤

### è¯·æ±‚ç»“æ„

é¢„å¤„ç†è®¢é˜…è¯·æ±‚éµå¾ªä¸æ ‡å‡†è®¢é˜…ç±»ä¼¼çš„ç»“æ„ï¼Œä½†å…·æœ‰ä¸€ç»„é›†ä¸­çš„è¿‡æ»¤å™¨ï¼š

```typescript
interface SubscribePreprocessedRequest {
  transactions: {
    [filterName: string]: SubscribePreprocessedRequestFilterTransactions
  };
  ping?: SubscribeRequestPing;
}

interface SubscribePreprocessedRequestFilterTransactions {
  vote?: boolean;              // Include/exclude vote transactions
  signature?: string;          // Filter by specific transaction signature
  accountInclude?: string[];   // Include transactions touching these accounts
  accountExclude?: string[];   // Exclude transactions touching these accounts
  accountRequired?: string[];  // Require all these accounts to be present
}
```

### å“åº”ç»“æ„

æ›´æ–°åŒ…å«å®Œæ•´çš„äº¤æ˜“æ¶ˆæ¯å’ŒåŸºæœ¬å…ƒæ•°æ®ï¼š

```typescript
interface SubscribePreprocessedUpdate {
  filters: string[];                             // Which filters matched
  transaction?: SubscribePreprocessedTransaction; // The transaction data
  ping?: SubscribeUpdatePing;                    // Keepalive ping
  pong?: SubscribeUpdatePong;                    // Ping response
  createdAt: Date;                               // When update was created
}

interface SubscribePreprocessedTransaction {
  transaction: SubscribePreprocessedTransactionInfo;
  slot: number;                                  // Slot containing transaction
}

interface SubscribePreprocessedTransactionInfo {
  signature: Uint8Array;                         // Transaction signature
  isVote: boolean;                               // Is this a vote transaction
  transaction: solana.storage.Transaction;       // Full transaction message
}
```

`transaction.transaction`å­—æ®µåŒ…å«å®Œæ•´çš„ Solana äº¤æ˜“ç»“æ„ï¼ŒåŒ…æ‹¬ï¼š

- **æ¶ˆæ¯** - è´¦æˆ·å¯†é’¥ã€æŒ‡ä»¤ã€æœ€è¿‘çš„åŒºå—å“ˆå¸Œ
- **ç­¾å** - æ‰€æœ‰äº¤æ˜“ç­¾å
- **åœ°å€è¡¨æŸ¥æ‰¾** - ç”¨äºç‰ˆæœ¬åŒ–äº¤æ˜“

è¿™ä¸æ ‡å‡†è®¢é˜…ä¸­çš„äº¤æ˜“ç»“æ„ç›¸åŒï¼Œä½†æ²¡æœ‰åŒ…å«æ‰§è¡Œç»“æœçš„`meta`å­—æ®µã€‚
