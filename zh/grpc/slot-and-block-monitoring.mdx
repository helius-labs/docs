---
title: ä½¿ç”¨ Yellowstone gRPC è¿›è¡Œ Slot å’Œ Block ç›‘æ§
sidebarTitle: Slot å’Œ Block ç›‘æ§
description: é€šè¿‡å®æ—¶ slot å’Œ block æµï¼Œç›‘æ§ Solana ç½‘ç»œå…±è¯†ã€åŒºå—ç”Ÿæˆå’Œç½‘ç»œçŠ¶æ€å˜åŒ–ã€‚
---

## æ¦‚è¿°

Slot å’Œ block ç›‘æ§æä¾›äº†å¯¹ Solana ç½‘ç»œå…±è¯†ã€åŒºå—ç”Ÿæˆæ—¶é—´å’Œç½‘ç»œå¥åº·çŠ¶å†µçš„æ´å¯Ÿã€‚å®æ—¶è·Ÿè¸ª slot è¿›å±•ã€åŒºå—æœ€ç»ˆåŒ–å’Œç½‘ç»œæ€§èƒ½æŒ‡æ ‡ã€‚

<Info>
**å…ˆå†³æ¡ä»¶ï¼š** æœ¬æŒ‡å—å‡è®¾æ‚¨å·²å®Œæˆ [Yellowstone gRPC å¿«é€Ÿå…¥é—¨](/grpc/quickstart) å¹¶å·²è®¾ç½®å¥½å·¥ä½œæµã€‚
</Info>

## ç›‘æ§ç±»å‹

<Tabs>
  <Tab title="Slot æ›´æ–°">
    **è·Ÿè¸ªç½‘ç»œå…±è¯†è¿›å±•**
    
    ç›‘æ§ä¸åŒæ‰¿è¯ºçº§åˆ«çš„ slot è¿›å±•ï¼š
    

    ```typescript
    const subscribeRequest: SubscribeRequest = {
      slots: {
        slotSubscribe: {
          filterByCommitment: false // Receive all commitment levels
        }
      },
      commitment: CommitmentLevel.CONFIRMED
    };
    ```

    
    **Slot æ•°æ®åŒ…æ‹¬ï¼š**
    - Slot ç¼–å·
    - çˆ¶ slot
    - æ‰¿è¯ºçŠ¶æ€ï¼ˆå·²å¤„ç†ã€å·²ç¡®è®¤ã€å·²æœ€ç»ˆåŒ–ï¼‰
    - é¢†å¯¼è€…ä¿¡æ¯
    
    <Note>
    **æœ€ä½³ç”¨é€”ï¼š** ç½‘ç»œå¥åº·ç›‘æ§ã€slot æ—¶é—´åˆ†æã€å…±è¯†è·Ÿè¸ª
    </Note>
  </Tab>
  
  <Tab title="Block æ•°æ®">
    **ç›‘æ§å®Œæ•´çš„åŒºå—ä¿¡æ¯**
    
    æµå¼ä¼ è¾“åŒ…å«äº¤æ˜“å’Œè´¦æˆ·æ›´æ–°çš„å®Œæ•´åŒºå—ï¼š
    

    ```typescript
    const subscribeRequest: SubscribeRequest = {
      blocks: {
        blockSubscribe: {
          accountInclude: [], // All accounts
          includeTransactions: true,
          includeAccounts: true,
          includeEntries: false
        }
      },
      commitment: CommitmentLevel.CONFIRMED
    };
    ```

    
    **Block æ•°æ®åŒ…æ‹¬ï¼š**
    - åŒºå—å…ƒæ•°æ®
    - æ‰€æœ‰äº¤æ˜“
    - è´¦æˆ·æ›´æ–°
    - åŒºå—æ—¶é—´
    
    <Warning>
    **é«˜æµé‡ï¼š** å®Œæ•´çš„åŒºå—æµä¼šç”Ÿæˆå¤§é‡æ•°æ®ã€‚ä½¿ç”¨è¿‡æ»¤å™¨ä»¥å‡å°‘æµé‡ã€‚
    </Warning>
  </Tab>
  
  <Tab title="Block å…ƒæ•°æ®">
    **è½»é‡çº§åŒºå—ä¿¡æ¯**
    
    è·å–ä¸å«äº¤æ˜“ç»†èŠ‚çš„åŒºå—å…ƒæ•°æ®ï¼š
    

    ```typescript
    const subscribeRequest: SubscribeRequest = {
      blocksMeta: {
        blockMetaSubscribe: {}
      },
      commitment: CommitmentLevel.CONFIRMED
    };
    ```

    
    **å…ƒæ•°æ®åŒ…æ‹¬ï¼š**
    - åŒºå—å“ˆå¸Œå’Œçˆ¶å“ˆå¸Œ
    - Slot ç¼–å·
    - åŒºå—é«˜åº¦
    - äº¤æ˜“æ•°é‡
    - åŒºå—å¥–åŠ±
    
    <Tip>
    **é«˜æ•ˆï¼š** ç›¸è¾ƒäºå®Œæ•´åŒºå—æµçš„ä½å¸¦å®½æ›¿ä»£æ–¹æ¡ˆ
    </Tip>
  </Tab>
</Tabs>

## å®ç”¨ç¤ºä¾‹

### ç¤ºä¾‹ 1ï¼šç½‘ç»œå¥åº·ç›‘æ§

è·Ÿè¸ª slot è¿›å±•å¹¶è¯†åˆ«ç½‘ç»œé—®é¢˜ï¼š

```typescript
import { StreamManager } from './stream-manager'; // From quickstart guide

async function monitorNetworkHealth() {
  const streamManager = new StreamManager(
    "your-grpc-endpoint",
    "your-api-key",
    handleNetworkHealth
  );

  const subscribeRequest: SubscribeRequest = {
    slots: {
      slotSubscribe: {
        filterByCommitment: false // Track all commitment levels
      }
    },
    commitment: CommitmentLevel.PROCESSED
  };

  await streamManager.connect(subscribeRequest);
}

let lastSlot = 0;
let lastTimestamp = Date.now();
const slotTimes: number[] = [];

function handleNetworkHealth(data: any): void {
  if (data.slot) {
    const slot = data.slot;
    const currentTime = Date.now();
    
    console.log(`\nğŸ“Š Slot Update:`);
    console.log(`  Slot: ${slot.slot}`);
    console.log(`  Parent: ${slot.parentSlot}`);
    console.log(`  Status: ${slot.status}`);
    
    // Calculate slot timing
    if (lastSlot > 0) {
      const slotDiff = slot.slot - lastSlot;
      const timeDiff = currentTime - lastTimestamp;
      
      if (slotDiff === 1) {
        // Normal slot progression
        const slotTime = timeDiff;
        slotTimes.push(slotTime);
        
        // Keep last 100 slot times for analysis
        if (slotTimes.length > 100) {
          slotTimes.shift();
        }
        
        const avgSlotTime = slotTimes.reduce((a, b) => a + b, 0) / slotTimes.length;
        
        console.log(`  Slot Time: ${slotTime}ms`);
        console.log(`  Avg Slot Time: ${avgSlotTime.toFixed(1)}ms`);
        
        // Alert on slow slots
        if (slotTime > 800) {
          console.log(`  âš ï¸  SLOW SLOT: ${slotTime}ms (normal ~400ms)`);
        }
      } else if (slotDiff > 1) {
        console.log(`  âš ï¸  SKIPPED ${slotDiff - 1} SLOTS`);
      }
    }
    
    lastSlot = slot.slot;
    lastTimestamp = currentTime;
  }
}
```

### ç¤ºä¾‹ 2ï¼šåŒºå—ç”Ÿæˆç›‘æ§

è·Ÿè¸ªåŒºå—ç”Ÿæˆå’Œäº¤æ˜“é‡ï¼š

```typescript
async function monitorBlockProduction() {
  const streamManager = new StreamManager(
    "your-grpc-endpoint",
    "your-api-key",
    handleBlockProduction
  );

  const subscribeRequest: SubscribeRequest = {
    blocksMeta: {
      blockMetaSubscribe: {}
    },
    commitment: CommitmentLevel.CONFIRMED
  };

  await streamManager.connect(subscribeRequest);
}

function handleBlockProduction(data: any): void {
  if (data.blockMeta) {
    const blockMeta = data.blockMeta;
    
    console.log(`\nğŸ§± Block Produced:`);
    console.log(`  Slot: ${blockMeta.slot}`);
    console.log(`  Block Height: ${blockMeta.blockHeight}`);
    console.log(`  Block Hash: ${blockMeta.blockhash}`);
    console.log(`  Parent Hash: ${blockMeta.parentBlockhash}`);
    console.log(`  Transactions: ${blockMeta.transactionCount}`);
    console.log(`  Block Time: ${new Date(blockMeta.blockTime * 1000).toISOString()}`);
    
    if (blockMeta.rewards?.length > 0) {
      console.log(`  Rewards:`);
      blockMeta.rewards.forEach((reward: any) => {
        console.log(`    ${reward.pubkey}: ${reward.lamports} lamports (${reward.rewardType})`);
      });
    }
    
    // Alert on high transaction count
    if (blockMeta.transactionCount > 3000) {
      console.log(`  ğŸ”¥ HIGH ACTIVITY: ${blockMeta.transactionCount} transactions`);
    }
  }
}
```

### ç¤ºä¾‹ 3ï¼šè¿‡æ»¤åŒºå—ç›‘æ§

ç›‘æ§åŒ…å«ç‰¹å®šç¨‹åºæ´»åŠ¨çš„åŒºå—ï¼š

```typescript
async function monitorDEXBlocks() {
  const streamManager = new StreamManager(
    "your-grpc-endpoint",
    "your-api-key",
    handleDEXBlock
  );

  const subscribeRequest: SubscribeRequest = {
    blocks: {
      blockSubscribe: {
        accountInclude: [
          "9WzDXwBbmkg8ZTbNMqUxvQRAyrZzDsGYdLVL9zYtAWWM", // Raydium V4
          "JUP6LkbZbjS1jKKwapdHNy74zcZ3tLUZoi5QNyVTaV4"   // Jupiter
        ],
        includeTransactions: true,
        includeAccounts: false,
        includeEntries: false
      }
    },
    commitment: CommitmentLevel.CONFIRMED
  };

  await streamManager.connect(subscribeRequest);
}

function handleDEXBlock(data: any): void {
  if (data.block) {
    const block = data.block;
    
    console.log(`\nğŸ”„ DEX Activity Block:`);
    console.log(`  Slot: ${block.slot}`);
    console.log(`  Block Hash: ${block.blockhash}`);
    console.log(`  Total Transactions: ${block.transactions?.length || 0}`);
    
    if (block.transactions) {
      let dexTxCount = 0;
      let totalFees = 0;
      
      block.transactions.forEach((tx: any) => {
        if (tx.meta && !tx.meta.err) {
          dexTxCount++;
          totalFees += tx.meta.fee || 0;
        }
      });
      
      console.log(`  DEX Transactions: ${dexTxCount}`);
      console.log(`  Total Fees: ${(totalFees / 1e9).toFixed(4)} SOL`);
      console.log(`  Avg Fee: ${(totalFees / dexTxCount / 1e9).toFixed(6)} SOL`);
    }
  }
}
```

## æ•°æ®ç»“æ„

ç†è§£æ’æ§½å’ŒåŒºå—æ•°æ®æ ¼å¼ï¼š

<Accordion title="æ’æ§½æ•°æ®ç»“æ„">

  ```typescript
  {
    slot: number;           // Current slot number
    parentSlot: number;     // Parent slot number  
    status: string;         // "processed", "confirmed", "finalized"
  }
  ```

  
  **æ’æ§½è¿›ç¨‹ï¼š** æ¯ä¸ªæ’æ§½ä»£è¡¨çº¦400æ¯«ç§’çš„ç½‘ç»œæ—¶é—´
  
  **ç¡®è®¤çº§åˆ«ï¼š**
  - **å·²å¤„ç†ï¼š** åˆå§‹æ’æ§½å¤„ç†
  - **å·²ç¡®è®¤ï¼š** è¶…çº§å¤šæ•°ç¡®è®¤  
  - **å·²æœ€ç»ˆç¡®å®šï¼š** ä¸å¯é€†çš„æœ€ç»ˆç¡®å®š
</Accordion>

<Accordion title="åŒºå—å…ƒæ•°æ®ç»“æ„">

  ```typescript
  {
    slot: number;
    blockHeight: number;
    blockhash: string;
    parentBlockhash: string;
    blockTime: number;      // Unix timestamp
    transactionCount: number;
    rewards: Array<{
      pubkey: string;
      lamports: number;
      rewardType: string;   // "fee", "rent", "voting", "staking"
    }>;
  }
  ```

  
  **åŒºå—æ—¶é—´ï¼š** ä¼°è®¡åŒºå—ç”Ÿæˆçš„æ—¶é—´
  
  **å¥–åŠ±ï¼š** åŒºå—ç”Ÿæˆçš„éªŒè¯è€…å¥–åŠ±
</Accordion>

<Accordion title="å®Œæ•´åŒºå—ç»“æ„">

  ```typescript
  {
    slot: number;
    parentSlot: number;
    blockhash: string;
    previousBlockhash: string;
    transactions: Transaction[];  // Full transaction data
    accounts: AccountUpdate[];    // Account state changes
    entries: Entry[];            // Block entries (if included)
  }
  ```

  
  **å¤§å°è­¦å‘Šï¼š** å®Œæ•´åŒºå—å¯èƒ½åŒ…å«æ‰€æœ‰äº¤æ˜“å’Œè´¦æˆ·ï¼Œå¤§å°å¯è¾¾æ•°MB
</Accordion>

## æ€§èƒ½è€ƒè™‘

<CardGroup cols={2}>
  <Card title="æ’æ§½ç›‘æ§" icon="clock">
    **è½»é‡ä¸”é«˜æ•ˆ**
    
    - éå¸¸ä½çš„å¸¦å®½ä½¿ç”¨
    - å®æ—¶ç½‘ç»œå¥åº·æ´å¯Ÿ
    - æœ€å°çš„å¤„ç†å¼€é”€
    - é€‚åˆç›‘æ§ä»ªè¡¨æ¿
  </Card>
  
  <Card title="åŒºå—å…ƒæ•°æ®" icon="info">
    **å¹³è¡¡çš„æ–¹æ³•**
    
    - ä¸­ç­‰å¸¦å®½ä½¿ç”¨
    - åŒºå—çº§æ´å¯Ÿè€Œéå®Œæ•´æ•°æ®
    - äº¤æ˜“è®¡æ•°å’Œæ—¶é—´
    - é€‚åˆåˆ†æ
  </Card>
  
  <Card title="å®Œæ•´åŒºå—" icon="database">
    **é«˜å®¹é‡æ•°æ®**
    
    - é«˜å¸¦å®½è¦æ±‚
    - å®Œæ•´çš„äº¤æ˜“æ•°æ®
    - éœ€è¦å¼ºå¤§çš„å¤„ç†èƒ½åŠ›
    - ä½¿ç”¨è¿‡æ»¤å™¨å‡å°‘æ•°æ®é‡
  </Card>
  
  <Card title="è¿‡æ»¤åŒºå—" icon="filter">
    **ä¼˜åŒ–çš„æµåª’ä½“**
    
    - ä½¿ç”¨ accountInclude è¿‡æ»¤å™¨
    - ç¦ç”¨ä¸å¿…è¦çš„æ•°æ®ï¼ˆæ¡ç›®ï¼Œè´¦æˆ·ï¼‰
    - ä¸“æ³¨äºç‰¹å®šç¨‹åº
    - åœ¨ç»†èŠ‚å’Œæ€§èƒ½ä¹‹é—´å–å¾—å¹³è¡¡
  </Card>
</CardGroup>

## ç”¨ä¾‹

<Tabs>
  <Tab title="ç½‘ç»œç›‘æ§">
    **è·Ÿè¸ªç½‘ç»œå¥åº·å’Œæ€§èƒ½**
    
    - æ’æ§½æ—¶é—´åˆ†æ
    - ç½‘ç»œæ‹¥å¡æ£€æµ‹
    - å…±è¯†ç›‘æ§
    - éªŒè¯è€…æ€§èƒ½
    

    ```typescript
    // Monitor slot timing deviations
    const targetSlotTime = 400; // ms
    const tolerance = 200; // ms
    
    if (Math.abs(slotTime - targetSlotTime) > tolerance) {
      console.log(`Network performance issue detected`);
    }
    ```

  </Tab>
  
  <Tab title="åˆ†æä¸æŒ‡æ ‡">
    **æ”¶é›†åŒºå—é“¾åˆ†ææ•°æ®**
    
    - äº¤æ˜“é‡è·Ÿè¸ª
    - è´¹ç”¨åˆ†æ
    - åŒºå—å¤§å°æŒ‡æ ‡
    - æ´»åŠ¨æ¨¡å¼
    

    ```typescript
    // Track daily transaction volumes
    const dailyStats = {
      date: new Date().toDateString(),
      totalTransactions: 0,
      totalFees: 0,
      blockCount: 0
    };
    ```

  </Tab>
  
  <Tab title="åº”ç”¨ç¨‹åºåŒæ­¥">
    **ä¿æŒåº”ç”¨ç¨‹åºä¸ç½‘ç»œåŒæ­¥**
    
    - åŸºäºæ’æ§½çš„æ›´æ–°
    - åŒºå—ç¡®è®¤
    - ç½‘ç»œçŠ¶æ€è·Ÿè¸ª
    - æ—¶é—´åŒæ­¥
    

    ```typescript
    // Update application state on finalized slots
    if (data.slot && data.slot.status === 'finalized') {
      updateApplicationState(data.slot.slot);
    }
    ```

  </Tab>
</Tabs>

## é”™è¯¯å¤„ç†

å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼š

<Accordion title="ç¼ºå¤±çš„æ’æ§½">
  **é—®é¢˜ï¼š** æ’æ§½è¿›ç¨‹ä¸­æ–­
  
  **åŸå› ï¼š**
  - ç½‘ç»œè¿æ¥é—®é¢˜
  - éªŒè¯è€…åœæœº
  - å®¢æˆ·ç«¯å¤„ç†å»¶è¿Ÿ
  
  **è§£å†³æ–¹æ¡ˆï¼š**
  - è·Ÿè¸ªæ’æ§½é—´éš™å¹¶è­¦æŠ¥
  - å®æ–½è¿½èµ¶é€»è¾‘
  - ç›‘æ§è¿æ¥å¥åº·çŠ¶å†µ
</Accordion>

<Accordion title="é«˜æµé‡">
  **é—®é¢˜ï¼š** åŒºå—æ•°æ®è¿‡å¤š
  
  **è§£å†³æ–¹æ¡ˆï¼š**
  - ä½¿ç”¨åŒºå—å…ƒæ•°æ®è€Œä¸æ˜¯å®Œæ•´åŒºå—
  - åº”ç”¨è´¦æˆ·è¿‡æ»¤å™¨ä»¥å‡å°‘æ•°æ®
  - ç¦ç”¨ä¸å¿…è¦çš„åŒ…å«ï¼ˆæ¡ç›®ï¼Œè´¦æˆ·ï¼‰
  - å¼‚æ­¥å¤„ç†æ•°æ®
</Accordion>

<Accordion title="æ—¶é—´é—®é¢˜">
  **é—®é¢˜ï¼š** æ’æ§½æ—¶é—´ä¸ä¸€è‡´
  
  **åˆ†æï¼š**
  - è®¡ç®—ç§»åŠ¨å¹³å‡å€¼
  - è·Ÿè¸ªæ—¶é—´åå·®
  - ç›‘æ§ç½‘ç»œå¥åº·æŒ‡æ ‡
  - ä¸éªŒè¯è€…æ€§èƒ½ç›¸å…³è”
</Accordion>

## æœ€ä½³å®è·µ

<Note>
**ç”Ÿäº§æŒ‡å—ï¼š**

- **ä»å…ƒæ•°æ®å¼€å§‹** - åœ¨å®Œæ•´åŒºå—ä¹‹å‰ä½¿ç”¨åŒºå—å…ƒæ•°æ®
- **åº”ç”¨è¿‡æ»¤å™¨** - ä½¿ç”¨ accountInclude å‡å°‘æ— å…³æ•°æ®
- **ç›‘æ§æ—¶é—´** - è·Ÿè¸ªæ’æ§½è¿›ç¨‹ä»¥äº†è§£ç½‘ç»œå¥åº·çŠ¶å†µ
- **å¤„ç†é—´éš™** - å®æ–½ç¼ºå¤±æ’æ§½/åŒºå—çš„é€»è¾‘
- **å¼‚æ­¥å¤„ç†** - ä¸è¦ç”¨ç¹é‡çš„è®¡ç®—é˜»å¡æµå¤„ç†
- **ä½¿ç”¨é€‚å½“çš„æ‰¿è¯º** - æ ¹æ®éœ€è¦åŒ¹é…æ‰¿è¯ºçº§åˆ«
</Note>

## ä¸‹ä¸€æ­¥

<CardGroup cols={2}>
  <Card title="æ¡ç›®ç›‘æ§" icon="code" href="/grpc/entry-monitoring">
    äº†è§£ä½çº§åŒºå—é“¾æ¡ç›®ç›‘æ§
  </Card>
  <Card title="é«˜çº§æ¨¡å¼" icon="chart-line" href="/grpc/stream-pump-amm-data">
    çœŸå®æ¡ˆä¾‹ï¼šç›‘æ§ Pump AMM æ•°æ®
  </Card>
</CardGroup>