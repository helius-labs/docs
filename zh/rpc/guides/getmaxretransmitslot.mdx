---
title: 如何使用 getMaxRetransmitSlot
sidebarTitle: getMaxRetransmitSlot
description: 了解 getMaxRetransmitSlot 的使用案例、代码示例、请求参数、响应结构和提示。
---

[`getMaxRetransmitSlot`](https://www.helius.dev/docs/api-reference/rpc/http/getmaxretransmitslot) RPC 方法返回查询的 RPC 节点已处理或从其重传阶段获知的最高槽号。重传阶段是 Solana 区块传播协议的重要组成部分，称为 [Turbine](https://www.helius.dev/blog/turbine-block-propagation-on-solana)，在此阶段，验证者从其对等节点请求并接收缺失的分片（区块的一部分）以重建完整区块。

此值可以指示节点在区块数据传播和修复方面与网络尖端的同步程度。

## 常见用例

*   **节点健康/同步检查：** 监控此值以了解节点是否正在积极接收和处理有关最近槽的信息。与集群的实际最高槽相比，显著滞后的 `maxRetransmitSlot` 可能表明该节点存在同步问题。
*   **网络分析（高级）：** 研究人员或复杂的监控工具可能会使用此指标作为整体网络健康或区块传播速度的几个指标之一。
*   **调试连接问题：** 如果节点持续报告较低的 `maxRetransmitSlot`，可能表明其对等连接或参与重传协议的能力存在问题。

## 请求参数

此方法不需要任何参数。

## 响应结构

JSON-RPC 响应的 `result` 字段将是一个 `u64`（无符号 64 位整数），表示节点从重传阶段看到的最大槽号。

## 示例

### 1. 获取最大重传槽

此示例获取连接节点从重传阶段看到的最大槽。

<CodeGroup>

```bash cURL
# Replace <api-key> with your Helius API key
curl https://mainnet.helius-rpc.com/?api-key=<api-key> -X POST -H "Content-Type: application/json" -d \
  '{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "getMaxRetransmitSlot"
  }'
```

```javascript JavaScript (using @solana/web3.js)
// Replace <api-key> with your Helius API key
const { Connection } = require('@solana/web3.js');

async function fetchMaxRetransmitSlot() {
  const connection = new Connection('https://mainnet.helius-rpc.com/?api-key=<api-key>');
  try {
    const maxRetransmitSlot = await connection.getMaxRetransmitSlot();
    console.log(`Maximum Slot seen from Retransmit Stage: ${maxRetransmitSlot}`);
  } catch (error) {
    console.error('Error fetching maximum retransmit slot:', error);
  }
}

fetchMaxRetransmitSlot();
```

</CodeGroup>

## 开发者提示

*   **节点特定值：** 此值特定于您查询的 RPC 节点。由于网络延迟和各自对重传过程的视图不同，集群中的不同节点在任何给定时刻可能会有略微不同的值。
*   **不是绝对最高槽：** 此值表示节点在重传中*看到数据的最高槽*。它可能与集群确认的绝对最高槽不同（可以通过 `getSlot` 方法与 `finalized` 承诺或 `getBlockHeight` 获得）。它更像是数据传播到此特定节点的进度指示器。
*   **动态值：** 随着网络生成新槽并重传数据，此数字将不断增加。

本指南提供了使用 `getMaxRetransmitSlot` RPC 方法的必要步骤，该方法可以作为监控 Solana 节点与区块数据传播相关的同步状态和健康状况的有用工具。