---
title: 如何使用 minimumLedgerSlot
sidebarTitle: minimumLedgerSlot
description: 了解 minimumLedgerSlot 的使用案例、代码示例、请求参数、响应结构和提示。
---

[`minimumLedgerSlot`](https://www.helius.dev/docs/api-reference/rpc/http/minimumledgerslot) RPC 方法返回查询的 RPC 节点在其账本中拥有信息的最低（最旧）槽。这对于了解特定节点的历史数据保留非常有用。

## 常见用例

*   **确定历史数据可用性：** 在尝试查询非常旧的历史数据（例如，旧区块或交易）之前，可以使用此方法检查节点是否可能拥有该数据。如果您需要低于 `minimumLedgerSlot` 的槽的数据，您可能需要找到一个存档节点。
*   **节点修剪意识：** 了解 RPC 节点（尤其是非存档节点）可能会修剪旧的账本数据。此值表示其存储历史的当前下限。
*   **同步历史数据获取器：** 如果您正在构建一个服务来摄取 Solana 的历史数据，这可以帮助您了解给定节点上可用数据的起点。

## 请求参数

此方法不接受任何参数。

## 响应结构

JSON-RPC 响应中的 `result` 字段是一个单一的 `u64` 数字，表示节点上可用的最小账本槽。

**示例响应：**

```json
{
  "jsonrpc": "2.0",
  "result": 123456789,
  "id": 1
}
```

## 代码示例

<CodeGroup>

```bash cURL
curl -X POST -H "Content-Type: application/json" -d \
  '{
    "jsonrpc": "2.0",
    "id": 1,
    "method": "minimumLedgerSlot"
  }' \
  <YOUR_RPC_URL>
```

```javascript JavaScript (using @solana/web3.js)
const { Connection } = require('@solana/web3.js');

async function getMinLedgerSlot() {
  // Replace with your RPC endpoint
  const connection = new Connection('https://mainnet.helius-rpc.com/?api-key=<api-key>');

  try {
    const minSlot = await connection.getMinimumLedgerSlot();
    console.log(`Minimum ledger slot available on the node: ${minSlot}`);
  } catch (error) {
    console.error('Error fetching minimum ledger slot:', error);
  }
}

getMinLedgerSlot();
```

</CodeGroup>

## 开发者提示

*   **节点特定：** 返回的 `minimumLedgerSlot` 是特定于您查询的 RPC 节点的。不同的节点可能有不同的账本保留策略，因此最小槽可能不同。
*   **动态值：** 随着节点修剪其账本的旧部分以节省空间，此值可能会随着时间的推移而增加。它不会减少。
*   **不是所有历史：** 这并不意味着节点拥有从此槽到当前尖端之间的*所有*区块。它仅指示它*可能*拥有数据的最低槽。尤其是在非存档节点上，仍然可能存在间隙。
*   **存档节点：** 要访问从创世到现在的完整区块链历史，通常需要查询一个存档节点，该节点旨在存储所有账本数据。

本指南帮助您理解和使用 `minimumLedgerSlot` RPC 方法，以确定 Solana RPC 节点存储的历史数据范围。