---
title: WebSockets 常见问题
description: 获取关于 WebSockets 的最常见问题的答案，包括增强功能、故障排除和使用方法
---

## 计费和速率限制

<Accordion title="WebSocket 事件消耗多少积分？">
打开一个新的 WebSocket 连接消耗 1 积分。通过标准 WebSocket 传输数据是免费的，无论数据量多少。对于增强型 WebSocket，您的数据消耗是按量计费的，每 0.1 MB 消耗 3 积分。
</Accordion>

<Accordion title="增强型 WebSockets 比普通 WebSockets 快多少？">
增强型 WebSockets 平均比标准 WebSockets 快 1.5 倍到 2 倍。它们通过优化的基础设施和直接访问 Helius 的流媒体后端提供更快的响应时间，非常适合需要低延迟数据的高性能应用程序。
</Accordion>

## 断开连接和重试

<Accordion title="为什么我的增强型 WebSockets 连接会断开？">
增强型 WebSockets 具有 10 分钟的不活动计时器，会断开空闲连接。为了防止断开连接：

1. **实施健康检查**：每分钟发送 ping 以保持连接
2. **添加重连逻辑**：在发生断开连接时自动重连
3. **使用适当的连接管理**：遵循我们[增强型 WebSockets 文档](/zh/enhanced-websockets/transaction-subscribe)中显示的模式

按照我们文档中显示的方式实现重连和 ping 逻辑，然后在此基础上添加您的应用程序逻辑。
</Accordion>

## 使用 WebSockets

<Accordion title="最大活跃 WebSocket 连接数是多少？">
在免费计划中，您可以同时建立 5 个 WebSocket 连接。在开发者计划中，可以建立 150 个连接。对于商业和专业计划，您可以建立 250 个 WebSocket 连接。
</Accordion>

<Accordion title="为什么我的客户端没有收到某些 WebSocket 更新？">
客户端需要跟上来自 WebSocket 服务器的消息接收速率。

导致客户端错过 WebSocket 更新的常见原因包括：网络带宽不足、客户端处理速度过慢（例如，编程语言过慢）或阻塞主线程的处理逻辑。
</Accordion>

<Accordion title="我可以使用同一个 WebSocket 连接订阅多个账户吗？">
是的，您可以使用同一个 WebSocket 连接创建多个 `accountSubscribe` 订阅。
</Accordion>

<Accordion title="如何使用 WebSockets 订阅完整交易？">
**对于增强型 WebSockets**，在您的订阅选项中设置 `transactionDetails: "full"`：

```javascript
const subscriptionRequest = {
  jsonrpc: "2.0",
  id: 1,
  method: "transactionSubscribe",
  params: [
    {
      accountInclude: ["YOUR_ACCOUNT_ADDRESS"],
      failed: false,
      vote: false
    },
    {
      commitment: "confirmed",
      encoding: "jsonParsed",
      transactionDetails: "full",  // Full transaction details
      maxSupportedTransactionVersion: 0
    }
  ]
};
```

**对于标准 WebSockets**，根据您的监控需求使用 `logsSubscribe` 或 `signatureSubscribe` 方法。请参阅我们的 [WebSocket 指南](/zh/rpc/websocket) 以获取每种订阅类型的详细示例。
</Accordion>

---

## 需要更多帮助？

<CardGroup cols={2}>
  <Card
    title="联系支持"
    icon="headset"
    href="/zh/support/contact-support"
  >
    通过 Discord、聊天或电子邮件支持从我们的团队获取帮助。
  </Card>
  <Card
    title="状态页面"
    icon="wave-pulse"
    href="/zh/support/status-page"
  >
    查看实时服务可用性和性能信息。
  </Card>
</CardGroup>