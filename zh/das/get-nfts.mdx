---
title: 如何获取 Solana 资产：NFTs、代币和价格数据
sidebarTitle: 获取资产
description: 学习如何使用 Helius DAS API 检索和查询 Solana NFTs、SPL 代币和价格数据。完整指南包括代码示例和最佳实践。
---

Helius 数字资产标准 (DAS) API 提供了强大的工具，用于读取和查询 Solana 上的 NFT 和代币数据。本指南向您展示如何有效地处理不同类型的 Solana 资产。

<CardGroup cols={2}>
  <Card title="查询 NFTs" icon="image" href="#working-with-nfts-and-digital-collectibles">
    检索、搜索和管理 NFT 数据和集合
  </Card>
  <Card title="访问 SPL 代币" icon="coins" href="#working-with-spl-tokens">
    获取代币余额、账户和持有人信息
  </Card>
  <Card title="代币定价" icon="chart-line" href="#price-data-for-jupiter-verified-tokens">
    获取 Jupiter 验证代币的实时价格数据
  </Card>
  <Card title="API 参考" icon="code" href="/zh/api-reference/das">
    查看详细的 API 文档
  </Card>
</CardGroup>

## Jupiter 验证代币的价格数据

<Warning>
getAsset 返回的价格数据是缓存的，可能不是最新的。价格信息有 60 秒的缓存，这意味着数据可能最多有 60 秒的延迟。
</Warning>

```typescript
const fetchTokenPriceData = async () => {
  const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({
      jsonrpc: "2.0",
      id: "1",
      method: "getAsset",
      params: {
        id: "DezXAZ8z7PnrnRJjz3wXBoRgixCa6xjnB7YaB1pPB263", // Bonk token mint address
        displayOptions: {
          showFungibleTokens: true
        }
      },
    }),
  });
  
  const data = await response.json();
  
  // Calculate market cap
  if (data.result?.token_info?.price_info) {
    const { price_per_token } = data.result.token_info.price_info;
    const { supply, decimals } = data.result.token_info;
    
    // Adjust supply for decimals
    const adjustedSupply = supply / Math.pow(10, decimals);
    const marketCap = price_per_token * adjustedSupply;
    
    console.log(`Market Cap: ${marketCap.toLocaleString()}`);
  }
  
  return data;
};
```

<Card title="API 参考" horizontal icon="code" href="/zh/api-reference/das/getasset">
  查看 getAsset 的详细文档
</Card>

### 响应结构

价格数据在响应中可通过 `token_info.price_info` 获取：

```json
{
  "token_info": {
    "symbol": "Bonk",
    "supply": 8881594973561640000,
    "decimals": 5,
    "token_program": "TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",
    "price_info": {
      "price_per_token": 0.0000192271,
      "currency": "USDC"
    }
  }
}
```

### 计算市值

要计算代币的市值，将其价格乘以调整后的供应量（考虑小数位）：

```typescript
const adjustedSupply = supply / Math.pow(10, decimals);
const marketCap = pricePerToken * adjustedSupply;
```

此计算通过正确考虑代币的小数位，给出代币的总市场估值。

## 处理 NFTs 和数字收藏品

DAS API 提供了多种方法来处理 NFTs 和数字收藏品。这些方法允许您检索单个资产、按所有者或创建者查询，并验证链上真实性。

<Tabs>
  <Tab title="Get Single NFT">
    <div>
      <h3>获取单个NFT</h3>
      <p>检索特定NFT的综合数据：</p>
      

      ```typescript
      const getNFT = async (mintAddress) => {
        const response = await fetch('https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY', {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            jsonrpc: "2.0",
            id: "1",
            method: "getAsset",
            params: {
              id: mintAddress,
            },
          }),
        });
        
        const data = await response.json();
        return data;
      };

      // Example usage
      getNFT("F9Lw3ki3hJ7PF9HQXsBzoY8GyE6sPoEZZdXJBsTTD2rk");
      ```

    </div>
  </Tab>
  <Tab title="Find by Owner">
    <div>
      <h3>按所有者查找NFT</h3>
      <p>检索由特定钱包地址拥有的所有NFT：</p>
      

      ```typescript
      const getNFTsByOwner = async (ownerAddress) => {
        const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            jsonrpc: "2.0",
            id: "1",
            method: "getAssetsByOwner",
            params: {
              ownerAddress: ownerAddress,
              page: 1,
              limit: 10,
            },
          }),
        });
        
        const data = await response.json();
        return data;
      };

      // Example usage
      getNFTsByOwner("86xCnPeV69n6t3DnyGvkKobf9FdN2H9oiVDdaMpo2MMY");
      ```

    </div>
  </Tab>
  <Tab title="Advanced Search">
    <div>
      <h3>使用高级过滤器搜索资产</h3>
      <p>通过各种属性和详细过滤器搜索资产：</p>
      

      ```typescript
      const searchAssets = async (params) => {
        const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify({
            jsonrpc: "2.0",
            id: "1",
            method: "searchAssets",
            params: params,
          }),
        });
        
        const data = await response.json();
        return data;
      };

      // Example: Find all NFTs owned by an address
      searchAssets({
        ownerAddress: "86xCnPeV69n6t3DnyGvkKobf9FdN2H9oiVDdaMpo2MMY",
        tokenType: "all",
        limit: 50,
      });
      ```

    </div>
  </Tab>
</Tabs>

<CardGroup cols={3}>
  <Card title="getAsset" icon="image" href="/zh/api-reference/das/getasset">
    单个资产的详细数据
  </Card>
  <Card title="getAssetsByOwner" icon="user" href="/zh/api-reference/das/getassetsbyowner">
    地址拥有的所有资产
  </Card>
  <Card title="searchAssets" icon="magnifying-glass" href="/zh/api-reference/das/searchassets">
    按多个标准过滤资产
  </Card>
</CardGroup>

### 高级NFT查询方法

<Tabs>
  <Tab title="By Creator">

    ```typescript
    const getAssetsByCreator = async (creatorAddress) => {
      const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          jsonrpc: "2.0",
          id: "1",
          method: "getAssetsByCreator",
          params: {
            creatorAddress: creatorAddress,
            page: 1,
            limit: 100,
          },
        }),
      });
      
      const data = await response.json();
      return data;
    };
    
    // Example usage
    getAssetsByCreator("9uBX3ASjxWvNBAD1xjbVaKA74mWGZys3RGSF7DdeDD3F");
    ```

  </Tab>
  <Tab title="By Collection">

    ```typescript
    const getAssetsByCollection = async (collectionAddress) => {
      const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          jsonrpc: "2.0",
          id: "1",
          method: "getAssetsByGroup",
          params: {
            groupKey: "collection",
            groupValue: collectionAddress,
            page: 1,
            limit: 100,
          },
        }),
      });
      
      const data = await response.json();
      return data;
    };
    
    // Example usage
    getAssetsByCollection("J1S9H3QjnRtBbbuD4HjPV6RpRhwuk4zKbxsnCHuTgh9w");
    ```

  </Tab>
  <Tab title="Transaction History">

    ```typescript
    const getNFTTransactionHistory = async (mintAddress) => {
      const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          jsonrpc: "2.0",
          id: "1",
          method: "getSignaturesForAsset",
          params: {
            id: mintAddress,
            page: 1,
            limit: 100,
          },
        }),
      });
      
      const data = await response.json();
      return data;
    };
    
    // Example usage
    getNFTTransactionHistory("FNt6A9Mfnqbwc1tY7uwAguKQ1JcpBrxmhczDgbdJy5AC");
    ```

  </Tab>
  <Tab title="On-Chain Proof">

    ```typescript
    const getNFTProof = async (mintAddress) => {
      const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
        },
        body: JSON.stringify({
          jsonrpc: "2.0",
          id: "1",
          method: "getAssetProof",
          params: {
            id: mintAddress,
          },
        }),
      });
      
      const proof = await response.json();
      return proof;
    };
    
    // Example usage
    getNFTProof("Bu1DEKeawy7txbnCEJE4BU3BKLXaNAKCYcHR4XhndGss");
    ```

  </Tab>
</Tabs>

<CardGroup cols={4}>
  <Card title="By Creator" icon="user" href="/zh/api-reference/das/getassetsbycreator">API Reference</Card>
  <Card title="By Collection" icon="layer-group" href="/zh/api-reference/das/getassetsbygroup">API Reference</Card>
  <Card title="Transaction History" icon="clock" href="/zh/api-reference/das/getsignaturesforasset">API Reference</Card>
  <Card title="On-Chain Proof" icon="check-double" href="/zh/api-reference/das/getassetproof">API Reference</Card>
</CardGroup>

## 使用SPL代币

可以通过Helius API中的多种方法查询SPL代币。这些方法允许您检查余额、查找代币账户和获取代币元数据。

### 常见的SPL代币操作

<Tabs>
  <Tab title="Token Balance">

    ```typescript
    const getTokenBalance = async (tokenAccountAddress) => {
      const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          jsonrpc: '2.0',
          id: '1',
          method: 'getTokenAccountBalance',
          params: [tokenAccountAddress]
        })
      });
      
      const data = await response.json();
      return data;
    };
    
    // Example usage
    getTokenBalance("3emsAVdmGKERbHjmGfQ6oZ1e35dkf5iYcS6U4CPKFVaa");
    ```

    
    <Card title="API Reference" horizontal icon="code" href="/zh/api-reference/rpc/http/gettokenaccountbalance">
      查看getTokenAccountBalance文档
    </Card>
  </Tab>
  <Tab title="Tokens by Owner">

    ```typescript
    const getTokensByOwner = async (ownerAddress) => {
      const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          jsonrpc: '2.0',
          id: '1',
          method: 'getTokenAccountsByOwner',
          params: [
            ownerAddress,
            {
              programId: 'TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA'
            },
            {
              encoding: 'jsonParsed'
            }
          ]
        })
      });
      
      const data = await response.json();
      return data;
    };
    
    // Example usage
    getTokensByOwner("86xCnPeV69n6t3DnyGvkKobf9FdN2H9oiVDdaMpo2MMY");
    ```

    
    <Card title="API Reference" horizontal icon="code" href="/zh/api-reference/rpc/http/gettokenaccountsbyowner">
      查看 getTokenAccountsByOwner 文档
    </Card>
  </Tab>
  <Tab title="Token Supply">

    ```typescript
    const getTokenSupply = async (mintAddress) => {
      const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          jsonrpc: '2.0',
          id: '1',
          method: 'getTokenSupply',
          params: [mintAddress]
        })
      });
      
      const data = await response.json();
      return data;
    };
    
    // Example usage
    getTokenSupply("EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v");
    ```

    
    <Card title="API Reference" horizontal icon="code" href="/zh/api-reference/rpc/http/gettokensupply">
      查看 getTokenSupply 文档
    </Card>
  </Tab>
  <Tab title="Largest Holders">

    ```typescript
    const getTokenLargestAccounts = async (mintAddress) => {
      const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          jsonrpc: '2.0',
          id: '1',
          method: 'getTokenLargestAccounts',
          params: [mintAddress]
        })
      });
      
      const data = await response.json();
      return data;
    };
    
    // Example usage
    getTokenLargestAccounts("he1iusmfkpAdwvxLNGV8Y1iSbj4rUy6yMhEA3fotn9A");
    ```

    
    <Card title="API Reference" horizontal icon="code" href="/zh/api-reference/rpc/http/gettokenlargestaccounts">
      查看 getTokenLargestAccounts 文档
    </Card>
  </Tab>
</Tabs>

### 高级 SPL 代币查询

您还可以找到持有特定代币铸造的所有账户：

```typescript
const getTokenAccountsByMint = async (mintAddress) => {
  const response = await fetch("https://mainnet.helius-rpc.com/?api-key=YOUR_API_KEY", {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({
      jsonrpc: '2.0',
      id: '1',
      method: 'getTokenAccountsByOwner',
      params: [
        'CEXq1uy9y15PL2Wb4vDQwQfcJakBGjaAjeuR2nKLj8dk', // Owner address
        {
          mint: mintAddress
        },
        {
          encoding: 'jsonParsed'
        }
      ]
    })
  });
  
  const data = await response.json();
  return data;
};

// Example usage
getTokenAccountsByMint("8wXtPeU6557ETkp9WHFY1n1EcU6NxDvbAggHGsMYiHsB");
```

## 最佳实践

在使用 DAS API 时，请牢记以下最佳实践：

1. 对于返回大量数据集的方法，**使用分页**
2. 通过实现 try/catch 块，**优雅地处理错误**
3. 在适当的时候，**缓存响应**以减少 API 调用
4. **遵守速率限制**以避免应用程序中断
5. 在计算市值之前，**验证 Jupiter 价格数据**是否可用

## 有问题？

有关 DAS API 的常见问题，包括资产数据、价格信息和 API 使用，请访问我们全面的 [DAS API FAQ](/zh/faqs/das-api)。
