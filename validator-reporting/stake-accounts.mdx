---
title: "Get Stake Account Metrics"
description: "Retrieve staking rewards and MEV rewards for a list of stake accounts"
---

<Note>
[‚Üê Back to Validator Reporting API](/validator-reporting)
</Note>

## Endpoint

```
POST https://mainnet.helius-rpc.com/stake-accounts/metrics
```

## Description

Retrieve staking rewards (inflation) and MEV rewards for a list of stake accounts. This endpoint accepts up to 100 stake account or vote account pubkeys and returns aggregated reward metrics for each account over the specified time period.

The endpoint automatically distinguishes between:
- **Stake Accounts**: Delegated stake accounts with delegation information
- **Vote Accounts**: Validator vote accounts (identified by having MEV rewards but no delegation info)

---

## Query Parameters

<ParamField query="api-key" type="string" required>
  Your Helius API key for authentication
</ParamField>

<ParamField query="period" type="string">
  Time period for metrics aggregation

  Options: `24h`, `7d`, `30d`, `90d`, `1y`

  Note: Either use `period` OR `start_epoch`/`end_epoch`; not both
</ParamField>

<ParamField query="start_epoch" type="integer">
  Starting epoch number (minimum: 400)

  Use for custom epoch ranges instead of `period`
</ParamField>

<ParamField query="end_epoch" type="integer">
  Ending epoch number

  Must be used with `start_epoch`
</ParamField>

---

## Request Body

<ParamField body="stake_accounts" type="array" required>
  Array of stake account or vote account public keys (base58 encoded)

  - Maximum 100 accounts per request
  - Each pubkey must be 32-44 characters
  - Can include both stake accounts and vote accounts

  Example:
  ```json
  {
    "stake_accounts": [
      "he1iusunGwqrNtafDtLdhsUQDFvo13z9sUa36PauBtk",
      "Bi5Nd9zWuixRAe3PgszKDfckS8H3RoTDtvk5AozDgLkz"
    ]
  }
  ```
</ParamField>

---

## Request Examples

<CodeGroup>

```bash cURL - 30 Day Period
curl -X POST "https://mainnet.helius-rpc.com/stake-accounts/metrics?period=30d&api-key=YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "stake_accounts": [
      "he1iusunGwqrNtafDtLdhsUQDFvo13z9sUa36PauBtk",
      "Bi5Nd9zWuixRAe3PgszKDfckS8H3RoTDtvk5AozDgLkz"
    ]
  }' | python3 -m json.tool
```

```bash cURL - Custom Epoch Range
curl -X POST "https://mainnet.helius-rpc.com/stake-accounts/metrics?start_epoch=800&end_epoch=850&api-key=YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "stake_accounts": [
      "Bi5Nd9zWuixRAe3PgszKDfckS8H3RoTDtvk5AozDgLkz"
    ]
  }' | python3 -m json.tool
```

```javascript JavaScript
const getStakeAccountMetrics = async (stakeAccounts, apiKey, period = '30d') => {
  const baseUrl = 'https://mainnet.helius-rpc.com';
  const url = `${baseUrl}/stake-accounts/metrics?period=${period}&api-key=${apiKey}`;

  const response = await fetch(url, {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({
      stake_accounts: stakeAccounts
    })
  });

  const data = await response.json();
  return data;
};

// Usage
const metrics = await getStakeAccountMetrics(
  [
    'he1iusunGwqrNtafDtLdhsUQDFvo13z9sUa36PauBtk',
    'Bi5Nd9zWuixRAe3PgszKDfckS8H3RoTDtvk5AozDgLkz'
  ],
  'YOUR_API_KEY',
  '30d'
);

console.log('Stake accounts found:', metrics.stake_accounts.length);
console.log('Vote accounts found:', metrics.vote_accounts.length);

// Process stake account metrics
metrics.stake_accounts.forEach(account => {
  console.log(`Account: ${account.stake_account}`);
  console.log(`Staking rewards: ${account.staking_rewards_sol} SOL`);
  console.log(`MEV rewards: ${account.mev_rewards_sol} SOL`);
});
```

```python Python
import requests

def get_stake_account_metrics(
    stake_accounts: list[str],
    api_key: str,
    period: str = "30d"
):
    base_url = "https://mainnet.helius-rpc.com"
    url = f"{base_url}/stake-accounts/metrics"
    params = {
        "period": period,
        "api-key": api_key
    }

    payload = {
        "stake_accounts": stake_accounts
    }

    response = requests.post(url, params=params, json=payload)
    return response.json()

# Usage
metrics = get_stake_account_metrics(
    [
        "he1iusunGwqrNtafDtLdhsUQDFvo13z9sUa36PauBtk",
        "Bi5Nd9zWuixRAe3PgszKDfckS8H3RoTDtvk5AozDgLkz"
    ],
    "YOUR_API_KEY",
    "30d"
)

print(f"Stake accounts found: {len(metrics['stake_accounts'])}")
print(f"Vote accounts found: {len(metrics['vote_accounts'])}")

# Process stake account metrics
for account in metrics['stake_accounts']:
    print(f"Account: {account['stake_account']}")
    print(f"Staking rewards: {account['staking_rewards_sol']} SOL")
    print(f"MEV rewards: {account['mev_rewards_sol']} SOL")
```

</CodeGroup>

---

## Response Schema

<ResponseField name="stake_accounts" type="array">
  Metrics for delegated stake accounts

  <Expandable title="stake_accounts array items">
    <ResponseField name="stake_account" type="string">
      The stake account public key
    </ResponseField>

    <ResponseField name="vote_account" type="string">
      The vote account this stake is delegated to
    </ResponseField>

    <ResponseField name="staking_rewards_lamports" type="integer">
      Total staking (inflation) rewards in lamports
    </ResponseField>

    <ResponseField name="staking_rewards_sol" type="number">
      Total staking (inflation) rewards in SOL
    </ResponseField>

    <ResponseField name="mev_rewards_lamports" type="integer">
      Total MEV rewards from Jito tip distribution in lamports
    </ResponseField>

    <ResponseField name="mev_rewards_sol" type="number">
      Total MEV rewards from Jito tip distribution in SOL
    </ResponseField>

    <ResponseField name="total_rewards_lamports" type="integer">
      Combined total of staking and MEV rewards in lamports
    </ResponseField>

    <ResponseField name="total_rewards_sol" type="number">
      Combined total of staking and MEV rewards in SOL
    </ResponseField>

    <ResponseField name="start_epoch" type="integer">
      First epoch included in the metrics
    </ResponseField>

    <ResponseField name="end_epoch" type="integer">
      Last epoch included in the metrics
    </ResponseField>

    <ResponseField name="epochs_count" type="integer">
      Number of epochs covered
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="vote_accounts" type="array">
  Metrics for vote account pubkeys queried directly

  <Expandable title="vote_accounts array items">
    <ResponseField name="vote_account" type="string">
      The vote account public key
    </ResponseField>

    <ResponseField name="staking_rewards_lamports" type="integer">
      Total staking (inflation) rewards in lamports
    </ResponseField>

    <ResponseField name="staking_rewards_sol" type="number">
      Total staking (inflation) rewards in SOL
    </ResponseField>

    <ResponseField name="mev_rewards_lamports" type="integer">
      Total MEV rewards from Jito tips in lamports
    </ResponseField>

    <ResponseField name="mev_rewards_sol" type="number">
      Total MEV rewards from Jito tips in SOL
    </ResponseField>

    <ResponseField name="total_rewards_lamports" type="integer">
      Combined total of staking and MEV rewards in lamports
    </ResponseField>

    <ResponseField name="total_rewards_sol" type="number">
      Combined total of staking and MEV rewards in SOL
    </ResponseField>

    <ResponseField name="start_epoch" type="integer">
      First epoch included in the metrics
    </ResponseField>

    <ResponseField name="end_epoch" type="integer">
      Last epoch included in the metrics
    </ResponseField>

    <ResponseField name="epochs_count" type="integer">
      Number of epochs covered
    </ResponseField>
  </Expandable>
</ResponseField>

<ResponseField name="metadata" type="object">
  Query metadata

  <Expandable title="metadata properties">
    <ResponseField name="period" type="string">
      The time period queried
    </ResponseField>

    <ResponseField name="start_epoch" type="integer">
      Starting epoch of the data range
    </ResponseField>

    <ResponseField name="end_epoch" type="integer">
      Ending epoch of the data range
    </ResponseField>

    <ResponseField name="query_timestamp" type="integer">
      Unix timestamp when query was executed
    </ResponseField>
  </Expandable>
</ResponseField>

---

## Response Example

```json
{
  "stake_accounts": [
    {
      "stake_account": "Bi5Nd9zWuixRAe3PgszKDfckS8H3RoTDtvk5AozDgLkz",
      "vote_account": "he1iusunGwqrNtafDtLdhsUQDFvo13z9sUa36PauBtk",
      "staking_rewards_lamports": 2500000000,
      "staking_rewards_sol": 2.5,
      "mev_rewards_lamports": 150000000,
      "mev_rewards_sol": 0.15,
      "total_rewards_lamports": 2650000000,
      "total_rewards_sol": 2.65,
      "start_epoch": 800,
      "end_epoch": 830,
      "epochs_count": 30
    }
  ],
  "vote_accounts": [
    {
      "vote_account": "he1iusunGwqrNtafDtLdhsUQDFvo13z9sUa36PauBtk",
      "staking_rewards_lamports": 5000000000,
      "staking_rewards_sol": 5.0,
      "mev_rewards_lamports": 875000000,
      "mev_rewards_sol": 0.875,
      "total_rewards_lamports": 5875000000,
      "total_rewards_sol": 5.875,
      "start_epoch": 800,
      "end_epoch": 830,
      "epochs_count": 30
    }
  ],
  "metadata": {
    "period": "30d",
    "start_epoch": 800,
    "end_epoch": 830,
    "query_timestamp": 1704330000
  }
}
```

---

## Account Type Detection

The API automatically categorizes accounts into stake accounts and vote accounts:

<CardGroup cols={2}>
  <Card title="Stake Account" icon="hand-holding-dollar">
    Accounts with delegation information are classified as stake accounts. These have both a stake account address and the vote account they're delegated to.
  </Card>
  <Card title="Vote Account" icon="check-to-slot">
    Accounts queried directly as vote accounts (i.e., having MEV rewards but no delegation info) are classified as vote accounts.
  </Card>
</CardGroup>

---

## Reward Types

<CardGroup cols={2}>
  <Card title="Staking Rewards" icon="coins">
    **Inflation Rewards**: Protocol inflation distributed to validators and delegators based on stake weight and performance.
  </Card>
  <Card title="MEV Rewards" icon="bolt">
    **Jito Tips**: MEV rewards from Jito tip distribution program, shared with delegators based on validator configuration.
  </Card>
</CardGroup>

---

## Error Responses

<CodeGroup>

```json 400 Bad Request - Too Many Accounts
{
  "error": "invalid_parameters",
  "message": "Maximum 100 stake accounts allowed per request"
}
```

```json 400 Bad Request - Invalid Pubkey
{
  "error": "invalid_parameters",
  "message": "Invalid stake account pubkey format"
}
```

```json 400 Bad Request - Invalid Epoch
{
  "error": "invalid_parameters",
  "message": "Invalid epoch range: start_epoch must be >= 400"
}
```

</CodeGroup>

---

## Notes

<Note>
**Account Limit**: Maximum 100 accounts per request. For larger batches, split into multiple requests.
</Note>

<Note>
**Minimum Epoch**: Historical data is available starting from **epoch 400** for this endpoint.
</Note>

<Tip>
**Batch Processing**: When querying many accounts, consider batching them in groups of 100 to stay within the request limit while minimizing API calls.
</Tip>

<Warning>
**Account Type**: If you're unsure whether an address is a stake account or vote account, you can query it; the API will automatically categorize it correctly in the response.
</Warning>

---

## Use Cases

<CardGroup cols={2}>
  <Card title="Portfolio Tracking" icon="wallet">
    Track rewards across multiple stake accounts in a single request
  </Card>
  <Card title="Delegator Reporting" icon="file-invoice-dollar">
    Generate comprehensive reward reports for your delegators
  </Card>
  <Card title="Performance Analysis" icon="chart-mixed">
    Compare rewards across different validators and stake accounts
  </Card>
  <Card title="Tax Reporting" icon="receipt">
    Collect historical reward data for tax documentation
  </Card>
</CardGroup>

---

## Related Endpoints

<Card title="Earnings" icon="money-bill-trend-up" href="/validator-reporting/earnings">
  For detailed validator earnings including commission splits
</Card>

<Card title="APY" icon="percent" href="/validator-reporting/apy">
  For APY calculations based on validator performance
</Card>
